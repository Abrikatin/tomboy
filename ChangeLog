2004-10-20  Alex Graveley  <alex@beatniksoftware.com>

	* configure.in: Only set FIXED_GTKSPELL if GtkSpell version is
	greater than 2.0.9.  Because 2.0.8 is still broken.

2004-10-20  Alex Graveley  <alex@beatniksoftware.com>

	* configure.in: Add Catalan translation from Jordi Mas
	<jmas@softcatala.org>.  Add Icelandic translation from Gunnar
	Steinn Magnússon <gsm@gunnarsteinn.com>.  If gtkspell version
	>= 2.0.8, define FIXED_GTKSPELL.

	* Tomboy/Note.cs: Use shared TagTable when creating Buffer if
	FIXED_GTKSPELL is defined.

	Remove included gtkspell.  Included this out of frustration, but
	its not really the right thing to do.

2004-10-20  David Lodge <dave@cirt.net>
                                                                                
        * configure.in: Added en_GB to ALL_LINGUAS.
                                                                                
2004-10-20  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2004-10-19  Alex Graveley  <alex@beatniksoftware.com>

	Add stripped down gtkspell 2.0.8 to the source tree, that will be
	installed in $pkglibdir.

	* Tomboy/NoteBuffer.cs: Remove all tags from the inserted text
	before applying the active tags... fixes bug where toggling bold
	inside a bold region would still insert bold.

	* Makefile.am (SUBDIRS): Build gtkspell conditionally.

	* tomboy.spec.in: Add tomboy manpage.

	* configure.in: Add Polish translation from Marek Habersack
	<grendel@caudium.net>.  Call AC_CONFIG_SUBDIRS on gtkspell
	directory if GtkSpell installed is older than 2.0.8 (likely).

2004-10-17  Alex Graveley  <alex@beatniksoftware.com>

	* configure.in: Add Hungarian translation from Török Gábor
	<gabo@linuxportal.hu>.  Thanks dude!

2004-10-15  Alex Graveley  <alex@beatniksoftware.com>

	* configure.in: Bump version to 0.2.2.

2004-10-15  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Note.cs: Fix bug where we try to deserialize a null
	value.

	* Tomboy/NoteManager.cs: Add method for creating a new note with
	specified content, and use it in CreateStartNote().

2004-10-15  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Utils.cs: Add XmlEncoder, a simple class to xml-encode
	text strings.

	* Tomboy/Search.cs: Use XmlEncoder, and GLib.Markup.EscapeText
	when adding to result treeview.

	* Tomboy/NoteManager.cs: Use XmlEncoder.
	* Tomboy/Watchers.cs: Ditto.

2004-10-14  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/tomboy.1: Add manpage originally from Luca Capello, but
	with lots of changes.

2004-10-14  Alex Graveley  <alex@beatniksoftware.com>

	* configure.in: Add German translation from Philipp Meier
	<meier@fnogol.de>.  Thanks!

2004-10-14  Alex Graveley  <alex@beatniksoftware.com>

	* www/index.html: Point to 0.2.1 tarball, and list some of the
	cooler changes.

	* configure.in: Bump version to 0.2.1.

	* tomboy.desktop.in: Don't pass any args, for now.

	* Tomboy/Watchers.cs: Fix unix path pattern to match only when
	preceding character is whitespace or start-of-line.

2004-10-14  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Search.cs: Don't highlight in all notes at once.  This
	opens some UI issues I don't want to deal with yet, like making
	Next/Previous work if you bring an already opened note to the
	foreground.

2004-10-13  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Watchers.cs: In NoteRenameWatcher, show a unique name
	like "(Untitled 42)" if someone deletes the title.  In
	NoteLineWatcher, use InsertWithTags to fix a bug where a longer
	renamed title won't be fully marked up.

2004-10-13  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Watchers.cs: Cleanup NoteRenameWatcher to not allow other
	tags on the title line, handle title line breaks and insertions
	correctly, wait 1 second before updating the the Note title
	(instead of 0.5), and always grab the title explicitly instead of
	using a textmark.

2004-10-12  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Tomboy.cs: Add a --start-here argument that opens the
	(possibly translated) "Start Here" note.

	* Tomboy/Search.cs: Highlight matches in all notes, not just
	current one.

	* Tomboy/RemoteControl.cs: Call find.FindNextButton.Click () in
	DisplayNoteWithSearch to scroll the note to the first match.

	* Tomboy/NoteWindow.cs: Don't link to the current word if none is
	selected. This makes problems when people make a note from a common
	word, then rename the note later, as all notes with that common
	word will have their content changed to the renamed title.

2004-10-11  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Note.cs: Don't save window dimensions if window is
	maximized.

	* Tomboy/NoteWindow.cs: Unmaximize before closing to ensure we
	don't reopen pseudo-maximized.

	* Tomboy/NoteBuffer.cs: Keep a reference to the TagTable passed
	in, otherwise it gets collected and gtk# creates a new one.

2004-10-11  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Watchers.cs: Fix bugs in Url matching regex to recognise
	unix paths again.

2004-10-10  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Search.cs: Html Encode the note title to html before adding.
	Don't reset the search to empty if SearchText is set null.  Don't
	set TransientFor ever.

	* configure.in: gtkspell 2.0.5 is still broken.  

2004-10-10  Dave Camp  <dave@novell.com>

	* Tomboy/NoteWindow.cs: Make "link to new note" work on the 
	word under the cursor if there is no selection.

	* Tomboy/NoteBuffer.cs: Add a GetCurrentBlock overload that 
	uses the InsertMark by default

2004-10-09  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Watchers.cs: Make ContainsText encode the search text.

	* Tomboy/Tomboy.cs: Add help string for --highlight-search.

	* Tomboy/RemoteControl.cs: Fix DisplayNoteWithSearch.

	* Tomboy/NoteManager.cs: Entity encode new note titles in Create.

2004-10-09  Jon Trowbridge  <trow@ximian.com>

	* Tomboy/Tomboy.cs: If the argument to --open-note looks like a
	Uri, treat it like a Uri instead of as a note title.  Also, added
	the --highlight-search command-line option.

2004-10-09  Nat Friedman  <nat@novell.com>

	* Tomboy/Search.cs: Make FindMatches and HighlightMatches public
	static.
	* Tomboy/RemoteControlProxy.cs
	Tomboy/RemoteControl.cs: Add DisplayNoteWithSearch.

2004-10-08  Alex Graveley  <alex@beatniksoftware.com>

	* NEWS: Update for 0.2.0.

2004-10-08  Alex Graveley  <alex@beatniksoftware.com>

	* tomboy.spec.in: Add all the missing files, register .schemas
	file.

2004-10-08  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/NoteManager.cs: Select the initial note text on newly
	created notes.

2004-10-08  Alex Graveley  <alex@beatniksoftware.com>

	* configure.in: Bump version to 0.2.0.

	* Tomboy/Makefile.am (EXTRA_DIST): Add
	com.beatniksoftware.Tomboy.service to CLEANFILES.

2004-10-08  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Watchers.cs: Move all watchers to NotePlugin interface,
	which simplifies code and avoid creating windows/buffers
	prematurely; eventually this will be the interface to allow 3rd
	party plugins.  Move wiki/url watchers to using regex matching,
	which simplifies the code.

	* Tomboy/Tray.cs: Show notes edited in the last two days in menu
	(up to 18).

	* Tomboy/RecentChanges.cs: Remove open-one-at-a-time behavior.
	* Tomboy/Search.cs: Ditto.

	* Tomboy/NoteManager.cs: Split NoteChanged into NoteAdded and
	NoteDeleted signals.  Make new note filenames be guids, to avoid
	renaming files on note rename, and to give permalink urls.

	* Tomboy/Note.cs: Load plugins as creation.
	Send Opened signal on window realize.  Add IsLoaded property to
	tell if buffer has been deserialized.

	* Tomboy/Makefile.am (com.beatniksoftware.Tomboy.service): Install
	com.beatniksoftware.Tomboy.service to $libdir/dbus-1.0/services.

2004-10-07  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Tomboy.cs: Make --new-note "NoteTitle" open an existing
	note if it exists.

2004-10-05  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/NoteWindow.cs: Get the target list and add our extra
	targets to it, this way we don't overwrite the targets GtkTextView
	installs.  Install text/uri-list (nautilus drags) and
	_NETSCAPE_URL (moz drags).

2004-10-05  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Tomboy.cs: Add TomboyRemoteExecute, a simple command line
	frontend to a running tomboy.  Allows opening an existing note,
	and create new notes.

2004-10-05  Alex Graveley  <alex@beatniksoftware.com>

	* configure.in: Add "es" to ALL_LINGUAS.  Translation by Antonio
	Ognio <gnrfan@gnrfan.org>.

2004-10-04  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Tomboy.cs: Switch from a System.Diagnostics.Conditional
	attribute on RegisterRemoteControl to a #if ENABLE_DBUS.
	With ConditionalAttribute the compiler still parses the method
	body, which can't find the DBus types if they aren't installed.
	Fixes 154496, reported by Adam Lopresto (adam@pubcrawler.org).

2004-10-03  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/NoteManager.cs: Properly Url encode filenames on creation
	and rename.  Allows '/' in note titles and fixes bug #154396 filed
	by Erik Volkman.

	* Tomboy/Search.cs: Fix bug with GetInstance implementation being
	passed a string to search.  Instead add SearchText property.
	Fixes a bug where just selecting text then right-clicking would
	activate searching for the selected text.

2004-10-02  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/NoteWindow.cs: Implement simple (and broken) DND to note
	content, to allow dragging urls from nautilus/firefox/etc.

2004-10-02  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/XKeybinder.cs: Split out XKeybinding classes from
	Utils.cs.

2004-10-02  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/RecentChanges.cs: Support dnd of results into open notes.
	* Tomboy/Search.cs: Ditto.

2004-10-01  Alex Graveley  <alex@beatniksoftware.com>

	Thanks to hurricane Jeanne last week, here is a massive commit...

	Thanks to Jon Trowbridge <trow@ximian.com> for the dbus-based
	remote control interface.

	* configure.in: add optional check for dbus, and set ENABLE_DBUS
	if found.  Check for old version (<2.0.5) of GtkSpell, and set
	OLD_GTKSPELL if found.

	* Tomboy/Makefile.am: include RemoteControl.cs and
	RemoteControlProxy.cs if ENABLE_DBUS is set.

	* Tomboy/Note.cs: make SaveDate into ChangeDate, which we update
	whenever the buffer changes.  Fixes ordering in the panel applet
	for notes where the save timeout hasn't been called yet.  Add Uri,
	used by remote control. Add IsOpened, used by the tray menu.  Fix
	newly created notes to remember window position.

	* Tomboy/NoteManager.cs: Use a HIGMessageDialog for showing name
	clash errors.  Add FindByUri, used by the remote control.

	* Tomboy/NoteWindow.cs: Use a HIGMessageDialog for the delete
	dialog.

	* Tomboy/RecentChanges.cs: Update results on note
	rename/add/delete.

	* Tomboy/Tomboy.cs: Register the remote control with dbus.

	* Tomboy/Tray.cs: Add tooltip to notification icon which says
	"Tomboy Notes" and lists the global shortcut key for showing the
	menu.  Create menu accelerators which map to their global
	shortcuts stored in gconf ("Alt-F11" next to Start Here, by
	default).

	* Tomboy/Utils.cs: Add HIGMessageDialog, which implements the HIG
	recommended message dialog.

	* Tomboy/Watchers.cs: Middle clicking a link/url closes the
	opening note.  Shift or control clicking a link/url places the
	cursor instead of opening.  Control-Enter with cursor on a
	link/url opens it. Use a HIGMessageDialog for location open error
	dialog.  Fix wikiword identification to ignore words with internal
	punctuation, and disregard any trailing punctuation.

	* TrayIcon/libtrayicon/tomboykeybinder.c: Regrab keys if the
	default keymap changes.

2004-10-01  Adam Lopresto <adam@pubcrawler.org>

	* Tomboy/Search.cs: Make searches implicitly AND words instead of
	OR.  Also fix a bug with spaces at the end of the search string.

2004-09-27  BenoÃ®t Dejean  <tazforever@dlfp.org>

	* configure.in: Added "fr" to ALL_LINGUAS.

2004-09-27  Alex Graveley  <alex@beatniksoftware.com>

	Lots of changes...

	* Add calls to Catalog.GetString everywhere we use a translatable
	string.
	* Add MouseHandWatcher which will change the mouse cursor to a
	hand when hovering over links.
	* Add global keybinding code
	* Add gconf setting to allow opening the notes menu (<Alt>F12 by
	default), opening Start Here (<Alt>F11 by default), creating a new
	note, opening the Search dialog, and opening the Recent Changes
	dialog.
	* Fix session saving, so our wrapper script gets executed by
	gnome-session.
	* Add beginning of bullet list and horizonal spacer code,
	commented out for now.
	
	Added Files...

	* tomboy.desktop.in: .desktop file to make tomboy show up in
	Applications/Accessories.
	* tomboy.schemas.in: Add gconf schema with global keybindings.
	* Tomboy/Defines.cs.in: Gets generated to Defines.cs, so we can
	find our translation files.
	* TrayIcon/libtrayicon/eggaccelerators.[ch]: Handles parsing of
	global gconf keybinding strings.
	* TrayIcon/libtrayicon/tomboykeybinder.[ch]: Listens for global
	keybindings on the X root window.

2004-09-24  Alex Graveley  <alex@beatniksoftware.com>

	* www/index.html: Add copyright notice for Tintin.

2004-09-23  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Watchers.cs: Copy the mautilus behavior of "middle click
	closes the opener" when clicking note links.  Should this apply
	for clicking urls as well?

2004-09-21  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Note.cs: Subscribe to window configure events, and save
	the note on change.  This should fix any problems people are
	having with spatial note windows.

2004-09-21  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/Search.cs: Fixed up things a bit: Make the dialog a
	singleton, so clicking search anywhere will bring up same search
	dialog, and reapply the search to the current note.  Scroll to
	the matched text.  Fix insertion into the search history list
	(sort of, it'll still show partial entries if you type slow).
	Search still needs some work wrt listening for change events and
	optimizing, as well as making the currently iterated note title
	bold in the search dialog.

	* Tomboy/NoteWindow.cs: Use a property accessor to get the find
	dialog instance everywhere, instead of keeping a local copy.
	* Tomboy/Tray.cs: Ditto.

2004-09-21  Alex Graveley  <alex@beatniksoftware.com>

	* configure.in: Drop the gtkspell 2.0.6 dependency.  Bump version
	to 0.1.2.
	* tomboy.spec.in (Requires): Ditto.

	* Tomboy/NoteWindow.cs: Bind find-next and find-previous to the
	right callback, instead of CloseWindowHandler.  Doh.

	* Tomboy/Watchers.cs: Override gtkspell's tag to use the squiggly
	with a black foreground text color.  This makes us not depend on
	the newest gtkspell versions.  Gtk 2.2 versions of pango will just
	show misspellings as black text with a regular underline.

	* Tomboy/Search.cs (OnFindPreviousClicked): Fix bug where previous
	was only jumping between first and last match.

	* www/index.html: Point to 0.1.2 tarball.

2004-09-20  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/NoteWindow.cs: Allow escape and Ctrl-w to close a note
	for now, until I get some feedback on which to use.

2004-09-20  Alex Graveley  <alex@beatniksoftware.com>

	* configure.in: Bump version to 0.1.1.
	* www/index.html: Point to 0.1.1 tarball.

	Add NEWS, AUTHORS, COPYING, README files.

2004-09-20  Alex Graveley  <alex@ximian.com>

	* Tomboy/NoteWindow.cs: Set the close window key to Escape, which
	makes tomboy feel less obtrusive.  Suggestion from Michael Große
	<mgrosze@web.de>.

2004-09-20  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/NoteWindow.cs: Ask for confirmation before deleting.
	Based on patch from Johan Wallenborg <johan@deepfolks.com>.

2004-09-20  Alex Graveley  <alex@beatniksoftware.com>

	* tomboy.spec.in: Initial spec file from Ricardo Veguilla
	<veguilla@hpcf.upr.edu>.

	* Tomboy/NoteManager.cs (NoteManager.CreateStartNote): Fix typo.

	* Tomboy/Note.cs: Pass a StreamReader for the note's file to the
	XmlTextReader constructor.  Hopefully it won't complain about
	invalid URLs in some versions of mono.  Reported by O'Grady
	Stephen <sogrady@redmonk.com>.

2004-09-19  Alex Graveley  <alex@beatniksoftware.com>

	* configure.in: Require gtkspell version 2.0.6.

2004-09-19  Jesse Andrews  <anotherjesse@gmail.com>

	* Tomboy/NoteBuffer.cs: changed internal linnk back to red

2004-09-19  Jesse Andrews  <anotherjesse@gmail.com>

	* Tomboy/NoteBuffer.cs: modified color of internal link to
	dark green since misspellings are red

	* Tomboy/NoteManager.cs: store notes in ~/.tomboy instead of ~/tomboy

2004-09-18  Alex Graveley  <alex@beatniksoftware.com>

	* TrayIcon/libtrayicon/Makefile.am: Install libtrayicon.so into
	pkglibdir.

	* TrayIcon/Makefile.am: Install TrayIcon.dll into pkglibdir.

	* Tomboy/tomboy.in: Set LD_LIBRARY_PATH, and MONO_PATH.

	* Tomboy/Watchers.cs: Avoid an infinite loop for buffers with no
	content.

2004-09-18  Alex Graveley  <alex@beatniksoftware.com>

	* Tomboy/NoteWindow.cs: 
	* Tomboy/RecentChanges.cs: 
	* Tomboy/Search.cs: Gtk.ScrolledWindow.Child is read-only on Gtk#
	HEAD, use Add() instead.

	* configure.in: PKG_CHECK for gtkspell-2.0, since we call into it
	from C#.

